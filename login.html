<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#06f" />
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./css/animate.css" />
    <title>HomeX | Login</title>
  </head>
  <body>
    $(if chap-id)
    <form name="sendin" action="$(link-login-only)" method="post">
      <input type="hidden" name="username" />
      <input type="hidden" name="password" />
      <input type="hidden" name="dst" value="$(link-orig)" />
      <input type="hidden" name="popup" value="true" />
    </form>

    <script src="./md5.js"></script>
    <script>
      function doLogin() {
        document.sendin.username.value = document.login.username.value;
        document.sendin.password.value = hexMD5(
          "$(chap-id)" + document.login.password.value + "$(chap-challenge)"
        );
        document.sendin.submit();
        return false;
      }
    </script>
    $(endif)

    <!-- prettier-ignore -->
    <div class="container">
      <div class="wrapper">
        <div class="title-wrapper">
          <h1 class="shake">Welcome!</h1>
          <p>Maayong adlaw! Palihog paki butang ang <b>credentials</b> nga gihatag sa tag-iya.</p>
        </div>
        <form
          action="$(link-login-only)"
          autocomplete="off"
          method="POST"
          name="login"
          $(if chap-id)
          onSubmit="return doLogin()"
          $(endif)
          >
          <input type="hidden" name="dst" value="$(link-orig)" />
          <input type="hidden" name="popup" value="true" />

          <div id="input-group-username" class="input-group">
            <div class="input-icon">
              <input id="username" class="input" type="text" placeholder="Username" name="username" required/>
              <i class="icon">üë§</i>
            </div>
          </div>
          <div id="input-group-password" class="input-group">
            <div class="input-icon">
              <input id="password" class="input" type="password" placeholder="Password" name="password" required/>
              <i class="icon">üîë</i>
            </div>
            <a id="showPassword" class="btn btn-show-hide" tabindex="-1">
              <span id="showPasswordText" >üëÅÔ∏è</span>
            </a>
          </div>

          $(if error)
            <p class="error">$(error)</p>
          $(endif)

          <button class="btn btn-primary" type="submit">Login</button>
        </form>

        <div class="form-footer">
          $(if trial == 'yes')
            <p style="margin-bottom: 15px;">Huy seryoso? <a href="$(link-login-only)?dst=$(link-orig-esc)&amp;username=T-$(mac-esc)">Hi uy!</a></p>
          $(endif)
          <p class="copy-right">Made with ‚ù§Ô∏è by <a target="_blank" href="#">Allen Cruiz</a></p>
        </div>
      </div>
    </div>

    <!-- For future use -->
    <!-- <script src="./js/sweetalert2.all.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", function () {
        Swal.fire({
          html: `
            <div style="font-size:1.1em;">
              <p></p>
            </div>
          `,
          background: "#f0f4ff",
          width: 400,
          icon: "info",
          iconColor: "#1976d2",
          showClass: {
            popup: "animate__animated animate__fadeInDown",
          },
          hideClass: {
            popup: "animate__animated animate__fadeOutUp",
          },
          confirmButtonText: "Okay, Sige!",
          confirmButtonColor: "#1976d2",
          customClass: {
            popup: "swal2-border-radius",
          },
        });
      });
    </script> -->
    <script type="module" src="./loginScript.js"></script>
    <script>
      const inputPassword = document.getElementById("password");

      const toggleShowPassword = document.getElementById("showPassword");
      toggleShowPassword.addEventListener("click", () => {
        if (inputPassword.type === "text") {
          inputPassword.type = "password";
          toggleShowPassword.textContent = "üëÅÔ∏è";
        } else {
          inputPassword.type = "text";
          toggleShowPassword.textContent = "üôà";
        }
      });
    </script>
  </body>
</html>
